@using Entity.ViewModels
@model LoginViewModel
@{
    ViewBag.Title = "Login";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<script src="https://code.jquery.com/jquery-3.3.1.min.js"
        integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
        crossorigin="anonymous"></script>
<!------ Include the above in your HEAD tag ---------->

<style>
    .account-box {
        border: 2px solid rgba(153, 153, 153, 0.75);
        border-radius: 2px;
        -moz-border-radius: 2px;
        -webkit-border-radius: 2px;
        -khtml-border-radius: 2px;
        -o-border-radius: 2px;
        z-index: 3;
        font-size: 13px !important;
        font-family: "Helvetica Neue",Helvetica,Arial,sans-serif;
        background-color: #ffffff;
        padding: 20px;
    }

    .logo {
        width: 138px;
        height: 30px;
        text-align: center;
        margin: 10px 0px 27px 40px;
        background-position: 0px -4px;
        position: relative;
    }

    .forgotLnk {
        margin-top: 10px;
        display: block;
    }

    .purple-bg {
        background-color: #6E329D;
        color: #fff;
    }

    .or-box {
        position: relative;
        border-top: 1px solid #dfdfdf;
        padding-top: 20px;
        margin-top: 20px;
    }

    .or {
        color: #666666;
        background-color: #ffffff;
        position: absolute;
        text-align: center;
        top: -8px;
        width: 40px;
        left: 90px;
    }

    .account-box .btn:hover {
        color: #fff;
    }

    .btn-facebook {
        background-color: #3F639E;
        color: #fff;
        font-weight: bold;
    }

    .btn-google {
        background-color: #454545;
        color: #fff;
        font-weight: bold;
    }
</style>



<div class="container">
    <div class="row">
        <div class="col-md-3 col-md-offset-4">
            <div class="account-box">
                <div class="logo ">
                    <img src="http://placehold.it/90x38/fff/6E329D&text=LOGO" alt="" />
                </div>





                @using (Html.BeginForm(null, null, FormMethod.Post, new
            {
                @class = "form-signin",
                @role = "form",
                @id = "login-nav"
            }))
            {
                    <div class="form-group">

                        @Html.TextBoxFor(x => x.Email, new { @placeholder = "Kullanıcı Adınız", @required = "required", @class = "form-control" })
                         
                        @*<input type="text" class="form-control" placeholder="Email" required autofocus />*@
                    </div>
                                    <div class="form-group">
                                        @Html.TextBoxFor(x => x.Password, new { @type = "password", @placeholder = "Şifreniz", @required = "required", @class = "form-control" })
                                         
                                        @*<input type="password" class="form-control" placeholder="Password" required />*@
                                    </div>


                                    <div class="checkbox">
                                        <label class="checkbox" style="width:20px;height:20px;">
                                            @Html.EditorFor(x => x.RememberMe)
                                         
                                        </label>
                                        <label>
                                            @Html.LabelFor(x => x.RememberMe)
                                        </label>
                                    </div>

                                            @*<input type="checkbox" value="remember-me" />
                                                Keep me signed in*@
                    <div class="form-group">
                        <button type="button" class="btn btn-lg btn-block btn-success">GirişYap </button>
                    </div>

                                            
                }

                <a class="forgotLnk" href="http://www.jquery2dotnet.com">Şifreni mi Unuttun!</a>
                <div class="or-box">
                    <span class="or">veya</span>
                    <div class="row">
                        <div class="col-md-6 row-block">
                            <a href="http://www.jquery2dotnet.com" class="btn btn-facebook btn-block">Facebook</a>
                        </div>
                        <div class="col-md-6 row-block">
                            <a href="http://www.jquery2dotnet.com" class="btn btn-google btn-block">Google</a>
                        </div>
                    </div>
                </div>
                <div class="or-box row-block">
                    <div class="row">
                        <div class="col-md-12 row-block">
                            <a href="/Members/Register" class="btn btn-primary btn-block">Yeni Kayıt Oluştur</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>




<script>

    $("#login-nav button").click(function () {
        var gidecekVeri = $("#login-nav").serialize();
        $.ajax({
            url: "/Members/_Login",
            method: "POST",
            data: gidecekVeri,
            success: function (result) {
                if (result.success)
                    window.location = window.location;
                else
                    alert("Giriş Başarısız.Tekrar deneyin.");
            }

        });
    });
</script>